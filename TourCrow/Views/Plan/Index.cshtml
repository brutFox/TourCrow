@using TourCrow.Controllers
@using TourCrow.Models

@{
    ViewBag.Title = "Plan";
}


<head>
    <meta charset="utf-8">
    <title>Travel HTML5 Template</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width">
    <meta name="author" content="templatemo">
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:400,800,700,600,300' rel='stylesheet' type='text/css'>

    <link rel="stylesheet" href="~/Content/bootstrap.min.css">
    <link rel="stylesheet" href="~/Content/font-awesome.css">
    <link rel="stylesheet" href="~/Content/animate.css">
    <link rel="stylesheet" href="~/Content/templatemo_misc.css">
    <link rel="stylesheet" href="~/Content/templatemo_style.css">
    <link href="~/Content/plan.css" rel="stylesheet" />
    <link href="~/Content/SignInandSignUp/style.css" rel="stylesheet" />
    <link href="https://code.jquery.com/ui/1.11.4/themes/smoothness/jquery-ui.css" rel="stylesheet" />

    <script src="~/Scripts/vendor/modernizr-2.6.1-respond-1.1.0.min.js"></script>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
    <script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>

    <script src="~/Scripts/fbsdk.js"></script>
    <script>
        // Load the SDK asynchronously
        (function(thisdocument, scriptelement, id) {
            var js, fjs = thisdocument.getElementsByTagName(scriptelement)[0];
            if (thisdocument.getElementById(id)) return;

            js = thisdocument.createElement(scriptelement); js.id = id;
            js.src = "//connect.facebook.net/en_US/sdk.js";
            fjs.parentNode.insertBefore(js, fjs);
        }(document, 'script', 'facebook-jssdk'));

        window.fbAsyncInit = function() {
            FB.init({
                appId      : '415519201971152', //Your APP ID
                cookie     : true,  // enable cookies to allow the server to access
                // the session
                xfbml      : true,  // parse social plugins on this page
                version    : 'v2.5' // use version 2.4
            });

            // These three cases are handled in the callback function.
            FB.getLoginStatus(function(response) {
                statusChangeCallback(response);
            });

        };

        // This is called with the results from from FB.getLoginStatus().
        function statusChangeCallback(response) {
            if (response.status === 'connected') {
                // Logged into your app and Facebook.
                _i();
            } else if (response.status === 'not_authorized') {
                // The person is logged into Facebook, but not your app.
               
            }
        }

        function _login() {
            FB.login(function(response) {
                // handle the response
                if(response.status==='connected') {
                    _i();
                }
                else if (response.status === 'not_authorized') {
                    // The person is logged into Facebook, but not your app.
                    console.log("Error" + response.error);
                }
            }, {scope: 'public_profile,email'});
        }

        function _i(){
            FB.api('/me', function(response) {
                console.log(JSON.stringify(response));
            });
        }

    </script>


</head>
<body>

   <!-- Login Page -->
    <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
        <div class="modal-dialog" role="document">
            <div class="modal-content" style="background: transparent; border: 0px; box-shadow: unset; margin-top: 60px;">
                    <div class="modal-body" style="padding:0px; width: 400px; margin: 0px auto;background:#fff">
                        <div class="loginpanel">
                            <h3 style="width:100%;text-align:center;margin-bottom:25px;">Login Page</h3>
                            <div class="txt">
                                <input id="user" type="text" placeholder="Username" />
                                <label for="user" class="entypo-user"></label>
                            </div>
                            <div class="txt">
                                <input id="pwd" type="password" placeholder="Password" />
                                <label for="pwd" class="entypo-lock"></label>
                            </div>
                            <div class="buttons">
                                <input type="button" value="Login" />
                                <span>
                                    <a href="" class="entypo-user-add register">Register</a>
                                </span>
                            </div>

                            <div class="hr">
                                <div></div>
                                <div>OR</div>
                                <div></div>
                            </div>

                            <div class="social">
                                <a onclick="_login();" class="facebook"></a>
                            </div>
                        </div>
                    </div>
                </div>
        </div>
    </div>


    <div class="site-header">
        <div class="container">
            <div class="main-header">
                <div class="row">
                    <div class="col-md-4 col-sm-6 col-xs-10">
                        <div class="logo">
                            <a href="#">
                                <img src="images/logo.png" alt="travel html5 template" title="travel html5 template">
                            </a>
                        </div> <!-- /.logo -->
                    </div> <!-- /.col-md-4 -->
                    <div class="col-md-8 col-sm-6 col-xs-2">
                        <div class="main-menu">
                            <ul class="visible-lg visible-md">
                                <li>@Html.ActionLink("Home", "Index", "Home")</li>
                                <li class="active">@Html.ActionLink("Plan", "Index", "Plan")</li>
                                <li>@Html.ActionLink("Login", "Index", "SignIn")</li>
                                <li>@Html.ActionLink("Register", "Index", "SignUp")</li>
                                <li>@Html.ActionLink("About Us", "AboutUs", "Home")</li>
                            </ul>
                            <a href="#" class="toggle-menu visible-sm visible-xs">
                                <i class="fa fa-bars"></i>
                            </a>
                        </div> <!-- /.main-menu -->
                    </div> <!-- /.col-md-8 -->
                </div> <!-- /.row -->
            </div> <!-- /.main-header -->
            <div class="row">
                <div class="col-md-12 visible-sm visible-xs">
                    <div class="menu-responsive">
                        <ul>
                            <li><a href="index.html">Home</a></li>
                            <li class="active"><a href="plan.html">Plan</a></li>
                            <li><a href="about.html">About Us</a></li>
                            <li><a href="login.html">Login</a></li>
                            <li><a href="registration.html">Registration</a></li>
                        </ul>
                    </div> <!-- /.menu-responsive -->
                </div> <!-- /.col-md-12 -->
            </div> <!-- /.row -->
        </div> <!-- /.container -->
    </div>

    <div class="log-reg-top" id="login_reg"></div>

    <div class="contact-page">
        <div class="container">

            <!-- Here place the main Content  -->
            
            <div class="plan-main-div">
                @using (Html.BeginForm("Search_Place", "Plan", FormMethod.Post))
                {
                    <div class="plan-head">
                        @Html.TextBox("Searchbar", null, new {Class = "search-page-for-planing", placeholder = "Search...", name = "searchbar", id = "searchbar"})
                        <input type="button" class="search-page-for-planing-button" id="submit" name="submit" value="search"/>

                    </div>
                }
                <div class="plan-body">
                    <div class="plan-suggestion">
                        <div class="sugg-heading-button">
                            <div class="my-place place-recom-inactive"><span>My Place</span></div>
                            <div class="recommend place-recom-active"><span>Recommend</span></div>
                        </div>
                        <div class="clear"></div>
                        <div class="sugg-main-area" id="suggestPlace">


                            @{
                                @*foreach (asdsad)
                                {
                                            <div class="sugg-element">
                                        <div class="main-area-for-element"> 
                                            <img src="img/saint.jpg" alt=""/>
                                            <p>Rangamati</p>
                                            <p>* * * * *</p>
                                            <div class="action-for-sugg">
                                                <input type="button" value="Add" class="add-to-list"/><br/>
                                                <input type="button" value="Remove" class="remove-from-list"/>
                                            </div>
                                        </div>
                                    </div>

                                }*@
                                
                                
                            }
                            
                            @*<div class="sugg-element">
                                <div class="main-area-for-element">
                                    <img src="img/saint.jpg" alt=""/>
                                    <p>Rangamati</p>
                                    <p>* * * * *</p>
                                    <div class="action-for-sugg">
                                        <input type="button" value="Add" class="add-to-list"/><br/>
                                        <input type="button" value="Remove" class="remove-from-list"/>
                                    </div>
                                </div>
                            </div>

                            <div class="sugg-element">
                                <div class="main-area-for-element">
                                    <img src="img/saint.jpg" alt=""/>
                                    <p>Rangamati</p>
                                    <p>* * * * *</p>
                                    <div class="action-for-sugg">
                                        <input type="button" value="Add" class="add-to-list"/><br/>
                                        <input type="button" value="Remove" class="remove-from-list"/>
                                    </div>
                                </div>
                            </div>

                            <div class="sugg-element">
                                <div class="main-area-for-element">
                                    <img src="img/saint.jpg" alt=""/>
                                    <p>Rangamati</p>
                                    <p>* * * * *</p>
                                    <div class="action-for-sugg">
                                        <input type="button" value="Add" class="add-to-list"/><br/>
                                        <input type="button" value="Remove" class="remove-from-list"/>
                                    </div>
                                </div>
                            </div>*@

                        </div>
                    </div>
                    <div class="plan-day-list">
                        <div class="day-number-show">
                            <h2>Days</h2>
                            <div class="no-day no-day-active">
                                <p>1</p>
                            </div>
                            <div class="no-day">
                                <p>2</p>
                            </div>
                            <div class="no-day">
                                <p>3</p>
                            </div>
                            <div class="no-day">
                                <p>4</p>
                            </div>
                        </div>

                        @*mid div*@
                        @using (Html.BeginForm("place_submit", "Plan", FormMethod.Post))
                        {
                            <div class="plan-main-element" id="plan_list">
                                
                            </div>

                            <input type="submit" name="submit" onclick='return false;' value="submit" />
                            <!-- Button trigger modal -->
                            <button type="button" class="btn btn-lg" data-toggle="modal" data-target="#myModal">
                                Submit
                            </button>
                        }
                    </div>
                    <div class="plan-map map-holder">

                    </div>
                </div>
            </div>

        </div>
    </div>

<div class="site-footer">
    <div class="container">
        <div class="row">
            <div class="col-md-4 col-sm-4">
                <div class="footer-logo">
                    <a href="index.html">
                        <img src="images/logo.png" alt="">
                    </a>
                </div>
            </div> <!-- /.col-md-4 -->
            <div class="col-md-4 col-sm-4">
                <div class="copyright">
                    <span>Copyright &copy; 2084 <a href="#">Company Name</a></span>
                </div>
            </div> <!-- /.col-md-4 -->
            <div class="col-md-4 col-sm-4">
                <ul class="social-icons">
                    <li><a href="#" class="fa fa-facebook"></a></li>
                    <li><a href="#" class="fa fa-twitter"></a></li>
                    <li><a href="#" class="fa fa-linkedin"></a></li>
                    <li><a href="#" class="fa fa-flickr"></a></li>
                    <li><a href="#" class="fa fa-rss"></a></li>
                </ul>
            </div> <!-- /.col-md-4 -->
        </div> <!-- /.row -->
    </div> <!-- /.container -->
</div>

    



    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
    <script>window.jQuery || document.write('<script src="js/vendor/jquery-1.11.0.min.js"><\/script>')</script>
    <script src="js/bootstrap.js"></script>
   
    <script src="js/plugins.js"></script>
<script src="js/main.js"></script>
    <script src="~/Scripts/SearchPage.js"></script>
    <!-- Google Map -->
    <script src="http://maps.google.com/maps/api/js?sensor=true"></script>
    <script src="~/Scripts/vendor/jquery.gmap3.min.js"></script>

    <script>
        $('#myModal').on('shown.bs.modal', function () {
            $('#myInput').focus()
        })
    </script>

    <!-- Google Map Init-->
<script type="text/javascript">
    var lat = @ViewBag.place_lat;
    var lng = @ViewBag.place_lng;
    jQuery(function($){
        $('.first-map, .map-holder').gmap3({
            marker:{
                address: '@ViewBag.place_lat, @ViewBag.place_lng'
            },
            map:{
                options:{
                    zoom: 16,
                    scrollwheel: false,
                    streetViewControl : true
                }
            }
        });
    });
    

    function initMap() {
        var myLatLng = {lat: @ViewBag.place_lat, lng: @ViewBag.place_lng};

        // Create a map object and specify the DOM element for display.
        var map = new google.maps.Map(document.getElementById('map'), {
            center: myLatLng,
            scrollwheel: false,
            zoom: 4
        });

        // Create a marker and set its position.
        var marker = new google.maps.Marker({
            map: map,
            position: myLatLng,
            title: 'Hello World!'
        });
    }



</script>
</body>

